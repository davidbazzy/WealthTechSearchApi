# PostgreSQL â€” values resolved from env vars with local defaults
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:searchdb}
spring.datasource.username=${DB_USER:searchapi}
spring.datasource.password=${DB_PASSWORD:changeme}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Flyway owns all DDL; Hibernate only validates the schema on startup
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Jackson API spec uses snake_case
spring.jackson.property-naming-strategy=SNAKE_CASE

# Embedding model
embedding.model.dir=models/all-MiniLM-L6-v2
